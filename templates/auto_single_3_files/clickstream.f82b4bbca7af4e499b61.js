/*! For license information please see clickstream.f82b4bbca7af4e499b61.js.LICENSE.txt */
"use strict";(self["webpackChunkavito_desktop_site"]=self["webpackChunkavito_desktop_site"]||[]).push([[38564],{34849:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;for(var n=[],r=0;r<256;++r)n.push((r+256).toString(16).substr(1));var o=function(e,t){var r=t||0,o=n;return(o[e[r+0]]+o[e[r+1]]+o[e[r+2]]+o[e[r+3]]+"-"+o[e[r+4]]+o[e[r+5]]+"-"+o[e[r+6]]+o[e[r+7]]+"-"+o[e[r+8]]+o[e[r+9]]+"-"+o[e[r+10]]+o[e[r+11]]+o[e[r+12]]+o[e[r+13]]+o[e[r+14]]+o[e[r+15]]).toLowerCase()};t["default"]=o},44148:function(e,t,n){Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}});var r=u(n(15927)),o=u(n(47055)),a=u(n(88537)),i=u(n(8509));function u(e){return e&&e.__esModule?e:{default:e}}},18330:function(e,t){function n(e){return(e+64>>>9<<4)+14+1}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,a,i){return r((u=r(r(t,e),r(o,i)))<<(s=a)|u>>>32-s,n);var u,s}function a(e,t,n,r,a,i,u){return o(t&n|~t&r,e,t,a,i,u)}function i(e,t,n,r,a,i,u){return o(t&r|n&~r,e,t,a,i,u)}function u(e,t,n,r,a,i,u){return o(t^n^r,e,t,a,i,u)}function s(e,t,n,r,a,i,u){return o(n^(t|~r),e,t,a,i,u)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var o=0;o<t.length;++o)e[o]=t.charCodeAt(o)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var a=e[o>>5]>>>o%32&255,i=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var o=1732584193,c=-271733879,d=-1732584194,f=271733878,l=0;l<e.length;l+=16){var v=o,h=c,p=d,y=f;o=a(o,c,d,f,e[l],7,-680876936),f=a(f,o,c,d,e[l+1],12,-389564586),d=a(d,f,o,c,e[l+2],17,606105819),c=a(c,d,f,o,e[l+3],22,-1044525330),o=a(o,c,d,f,e[l+4],7,-176418897),f=a(f,o,c,d,e[l+5],12,1200080426),d=a(d,f,o,c,e[l+6],17,-1473231341),c=a(c,d,f,o,e[l+7],22,-45705983),o=a(o,c,d,f,e[l+8],7,1770035416),f=a(f,o,c,d,e[l+9],12,-1958414417),d=a(d,f,o,c,e[l+10],17,-42063),c=a(c,d,f,o,e[l+11],22,-1990404162),o=a(o,c,d,f,e[l+12],7,1804603682),f=a(f,o,c,d,e[l+13],12,-40341101),d=a(d,f,o,c,e[l+14],17,-1502002290),o=i(o,c=a(c,d,f,o,e[l+15],22,1236535329),d,f,e[l+1],5,-165796510),f=i(f,o,c,d,e[l+6],9,-1069501632),d=i(d,f,o,c,e[l+11],14,643717713),c=i(c,d,f,o,e[l],20,-373897302),o=i(o,c,d,f,e[l+5],5,-701558691),f=i(f,o,c,d,e[l+10],9,38016083),d=i(d,f,o,c,e[l+15],14,-660478335),c=i(c,d,f,o,e[l+4],20,-405537848),o=i(o,c,d,f,e[l+9],5,568446438),f=i(f,o,c,d,e[l+14],9,-1019803690),d=i(d,f,o,c,e[l+3],14,-187363961),c=i(c,d,f,o,e[l+8],20,1163531501),o=i(o,c,d,f,e[l+13],5,-1444681467),f=i(f,o,c,d,e[l+2],9,-51403784),d=i(d,f,o,c,e[l+7],14,1735328473),o=u(o,c=i(c,d,f,o,e[l+12],20,-1926607734),d,f,e[l+5],4,-378558),f=u(f,o,c,d,e[l+8],11,-2022574463),d=u(d,f,o,c,e[l+11],16,1839030562),c=u(c,d,f,o,e[l+14],23,-35309556),o=u(o,c,d,f,e[l+1],4,-1530992060),f=u(f,o,c,d,e[l+4],11,1272893353),d=u(d,f,o,c,e[l+7],16,-155497632),c=u(c,d,f,o,e[l+10],23,-1094730640),o=u(o,c,d,f,e[l+13],4,681279174),f=u(f,o,c,d,e[l],11,-358537222),d=u(d,f,o,c,e[l+3],16,-722521979),c=u(c,d,f,o,e[l+6],23,76029189),o=u(o,c,d,f,e[l+9],4,-640364487),f=u(f,o,c,d,e[l+12],11,-421815835),d=u(d,f,o,c,e[l+15],16,530742520),o=s(o,c=u(c,d,f,o,e[l+2],23,-995338651),d,f,e[l],6,-198630844),f=s(f,o,c,d,e[l+7],10,1126891415),d=s(d,f,o,c,e[l+14],15,-1416354905),c=s(c,d,f,o,e[l+5],21,-57434055),o=s(o,c,d,f,e[l+12],6,1700485571),f=s(f,o,c,d,e[l+3],10,-1894986606),d=s(d,f,o,c,e[l+10],15,-1051523),c=s(c,d,f,o,e[l+1],21,-2054922799),o=s(o,c,d,f,e[l+8],6,1873313359),f=s(f,o,c,d,e[l+15],10,-30611744),d=s(d,f,o,c,e[l+6],15,-1560198380),c=s(c,d,f,o,e[l+13],21,1309151649),o=s(o,c,d,f,e[l+4],6,-145523070),f=s(f,o,c,d,e[l+11],10,-1120210379),d=s(d,f,o,c,e[l+2],15,718787259),c=s(c,d,f,o,e[l+9],21,-343485551),o=r(o,v),c=r(c,h),d=r(d,p),f=r(f,y)}return[o,c,d,f]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),o=0;o<t;o+=8)r[o>>5]|=(255&e[o/8])<<o%32;return r}(e),8*e.length))};t["default"]=c},52786:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16)},51387:function(e,t){function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=function(e){var t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var i=0;i<a.length;++i)e.push(a.charCodeAt(i))}e.push(128);for(var u=e.length/4+2,s=Math.ceil(u/16),c=new Array(s),d=0;d<s;++d){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=e[64*d+4*l]<<24|e[64*d+4*l+1]<<16|e[64*d+4*l+2]<<8|e[64*d+4*l+3];c[d]=f}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(var v=0;v<s;++v){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=c[v][p];for(var y=16;y<80;++y)h[y]=r(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);for(var w=o[0],b=o[1],m=o[2],g=o[3],_=o[4],I=0;I<80;++I){var k=Math.floor(I/20),O=r(w,5)+n(k,b,m,g)+_+t[k]+h[I]>>>0;_=g,g=m,m=r(b,30)>>>0,b=w,w=O}o[0]=o[0]+w>>>0,o[1]=o[1]+b>>>0,o[2]=o[2]+m>>>0,o[3]=o[3]+g>>>0,o[4]=o[4]+_>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};t["default"]=o},15927:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r,o,a=u(n(52786)),i=u(n(34849));function u(e){return e&&e.__esModule?e:{default:e}}var s=0,c=0;var d=function(e,t,n){var u=t&&n||0,d=t||[],f=(e=e||{}).node||r,l=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==l){var v=e.random||(e.rng||a.default)();null==f&&(f=r=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==l&&(l=o=16383&(v[6]<<8|v[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:c+1,y=h-s+(p-c)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=p,o=l;var w=(1e4*(268435455&(h+=122192928e5))+p)%4294967296;d[u++]=w>>>24&255,d[u++]=w>>>16&255,d[u++]=w>>>8&255,d[u++]=255&w;var b=h/4294967296*1e4&268435455;d[u++]=b>>>8&255,d[u++]=255&b,d[u++]=b>>>24&15|16,d[u++]=b>>>16&255,d[u++]=l>>>8|128,d[u++]=255&l;for(var m=0;m<6;++m)d[u+m]=f[m];return t||(0,i.default)(d)};t["default"]=d},47055:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n(9963)),o=a(n(18330));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v3",48,o.default);t["default"]=i},9963:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){function r(e,r,a,i){var u=a&&i||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=n(r.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,a)for(var c=0;c<16;++c)a[u+c]=s[c];return a||(0,o.default)(s)}try{r.name=e}catch(u){}return r.DNS=a,r.URL=i,r},t.URL=t.DNS=void 0;var r,o=(r=n(34849))&&r.__esModule?r:{default:r};var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;var i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=i},88537:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n(52786)),o=a(n(34849));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){for(var i=n||0,u=0;u<16;++u)t[i+u]=a[u];return t}return(0,o.default)(a)};t["default"]=i},8509:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n(9963)),o=a(n(51387));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v5",80,o.default);t["default"]=i},37592:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(21593);function o(e){return"number"==typeof e&&isFinite(e)}function a(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f="last-ref-id",l=1,v="js/2.4",h=1e3,p="pending",y=function(){function e(t){var n=this,r=t.common,o=void 0===r?{}:r,a=t.srcId,i=t.buildUid,s=void 0===i?"undefined":i,d=t.softwareVersion,l=t.build,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/1/json",p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};if(c(this,e),!a)throw new Error("srcId is required");if("undefined"!=typeof window){var y=function(e){return window.document.referrer&&window.document.referrer.startsWith(e)},w=window.location.origin,b=window.performance&&window.performance.navigation&&1===window.performance.navigation.type;this.events=[],this.link=h,document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&n.sendEvents({useBeacon:!0})})),window.addEventListener("beforeunload",(function(){n.sendEvents({useBeacon:!0})})),b||y(w)||!window.localStorage||window.localStorage.removeItem(f);var m=window.sessionStorage.tabId;m||(m=this.getUUID(),window.sessionStorage.tabId=m),this.meta={src_id:a,build_uid:s,sdk:v,software_version:d,build:l},this.tabID=m,this.common=u(u({},o),{},{src_id:a}),this.errorHandler=p,this.cycleSend()}else this.ssr=!0}var t,n,i,s,y;return t=e,n=[{key:"sendEvent",value:function(e,t,n){if(this.ssr)return"";if(!o(e))throw new Error("event id should be number type");if(!o(t))throw new Error("event version should be number type");var r=this.createEvent(e,t,n);return this.events.push({id:this.getUUID(),event:r}),this.events.length>h&&this.sendEvents({useBeacon:!1}),r.env.ref_id}},{key:"createEvent",value:function(e,t,n){var r=this.getRefIDs(),o=r.refID,a=r.parentRefID,i=r.tabID,u={event_id:e,version:t,params:n};for(var s in u)u.hasOwnProperty(s)&&null===u[s]&&(u[s]=void 0);return u.env={cdtm:Number(Date.now().toFixed(1)),ref_id:o,parent_ref_id:a,tab_id:i},u}},{key:"prepareBatch",value:function(){var e=this.events.filter((function(e){return e.status!==p})),t=this.createSendBody(e),n={};return e.forEach((function(e){n[e.id]=!0})),{body:JSON.stringify(t),ids:n}}},{key:"createSendBody",value:function(e){var t={version:l,meta:u({},this.meta),common:u({},this.common)};return t.events=e.map((function(e){return e.event})),t}},{key:"sendEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useBeacon,n=this.prepareBatch(),r=n.body,o=n.ids;if(0!==Object.keys(o).length)try{this.setBatchPending(o),this.trySendEvents(r,{useBeacon:t})}catch(a){this.errorHandler(a)}finally{this.clearBatch(o)}}},{key:"sendBatchEvents",value:function(){this.sendEvents()}},{key:"trySendEvents",value:(s=regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(void 0===(r=n.useBeacon)||!r){e.next=6;break}if(!this.sendDataWithBeacon(t)){e.next=4;break}return e.abrupt("return");case 4:if(!this.sendDataWithXHRSync(t)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.sendDataWithFetch(t);case 8:case"end":return e.stop()}}),e,this)})),y=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function i(e){a(o,n,r,i,u,"next",e)}function u(e){a(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e,t){return y.apply(this,arguments)})},{key:"sendDataWithFetch",value:function(e){return fetch(this.link,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:e}).then((function(e){return w(e.status)}))}},{key:"sendDataWithXHRSync",value:function(e){var t=!1,n=new XMLHttpRequest;n.open("POST",this.link,!1),n.withCredentials=!0,n.setRequestHeader("Content-type","application/json; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&(t=w(this.status))};try{n.send(e)}catch(r){return!1}return t}},{key:"sendDataWithBeacon",value:function(e){return!!navigator.sendBeacon&&navigator.sendBeacon(this.link,new Blob([e],{type:"text/plain; charset=UTF-8"}))}},{key:"cycleSend",value:function(){var e=this;setTimeout((function(){e.cycleSend()}),1e3),this.sendEvents({useBeacon:!1})}},{key:"getRefIDs",value:function(){var e,t=this.getUUID();return window.localStorage&&(e=window.localStorage.getItem(f),window.localStorage.setItem(f,t)),{refID:t||"",parentRefID:e||"",tabID:this.tabID||""}}},{key:"setBatchPending",value:function(e){this.events=this.events.map((function(t){return u(u({},t),{},{status:Boolean(e[t.id])&&p})}))}},{key:"clearBatch",value:function(e){this.events=this.events.filter((function(t){return Boolean(e[t.id])}))}},{key:"setUID",value:function(e){this.common=u(u({},this.common),{},{uid:e})}},{key:"getUUID",value:function(){return(0,r.v4)()}}],n&&d(t.prototype,n),i&&d(t,i),e}();function w(e){return!(e>=400&&502!==e)}var b=y},62680:function(e,t,n){var r,o,a=n(21593);if("undefined"==typeof window)r=function(){return new Promise((function(e){return e({})}))};else{var i=window.localStorage,u="last-ref-id",s=window.location.origin;window.performance&&window.performance.navigation&&1===window.performance.navigation.type||(o=s,window.document.referrer&&window.document.referrer.startsWith(o))||i&&i.removeItem(u),window.sessionStorage.tabId=window.sessionStorage.tabId||(0,a.v4)();var c=window.sessionStorage.tabId,d=function(){var e=i?i.getItem(u):null,t=(0,a.v4)();return i&&i.setItem(u,t),{refId:t,parentRefId:e,tabId:c}};r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/0/json";for(var n in e)e.hasOwnProperty(n)&&null===e[n]&&(e[n]=void 0);var r=d(),o=r.refId,a=r.parentRefId,i=r.tabId;return e.ref_id=o||"",e.parent_ref_id=a||"",e.tab_id=i||"",fetch(t,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.status>=400?Promise.reject(e):{response:e,refId:o,parentRefId:a,tabId:i}}))}}t["Z"]=r},21593:function(e,t,n){n.d(t,{v4:function(){return o}});var r=n(44148);r.v1,r.v3;const o=r.v4;r.v5}}]);